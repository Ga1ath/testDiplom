\documentclass[a4paper, 14pt]{extarticle}
\usepackage{extsizes}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, russian]{babel}
\usepackage[fleqn]{amsmath}
\usepackage{amssymb, amsfonts, mathtext, mathtools, cite, enumerate, float}
\usepackage[pdftex]{graphicx}
\usepackage{indentfirst}
\usepackage{listings}
\usepackage{geometry}
\geometry{left=20mm, right=15mm, top=10mm, bottom=20mm}
\parindent = 1.5cm
\usepackage{longtable}
\usepackage{float}

\usepackage{tikz}		%пакеты векторной графики
\usepackage{pgfplots}	%чтобы по набору точек строить диаграммы
\usepackage{xifthen}

\sloppy
\linespread{1.3}
\renewcommand{\rmdefault}{ftm} % Times New Roman
\frenchspacing
\allowdisplaybreaks
\newcommand{\tbs}{\textbackslash}
\newcommand{\bs}{\operatorname{\backslash}}
\newcommand{\listing}{\par\addtocounter{listing_num}{1}%
\text{Листинг \arabic{listing_num}.} }

\usepackage{color}



\begin{document}

    Функция округления в~меньшую сторону. На~целых числах она иногда врёт.

    \begin{preproc}

        ceil(x) := \begin{block}
                       x := x \cdot \pi - \pi / 2 \\
                       frac := \arctan(\tan(x)) \\
                       (x - frac) / \pi
        \end{block} \\

        ceil(0.4) = \placeholder{0.000000} \\
        ceil(0.5) = \placeholder{0.000000} \\
        ceil(0.6) = \placeholder{0.000000} \\
        ceil(1.0) = \placeholder{0.000000} \\
        ceil(1.2) = \placeholder{1.000000} \\
        ceil(1.6) = \placeholder{1.000000} \\
        ceil(1.8) = \placeholder{1.000000} \\
        ceil(2.0) = \placeholder{1.000000} \\
        ceil(2.1) = \placeholder{2.000000} \\

        \graphic{ceil}{\range[0.1]{0}{5}} {(0.000000,0.000000)
            (0.100000,0.000000)
            (0.200000,0.000000)
            (0.300000,0.000000)
            (0.400000,0.000000)
            (0.500000,0.000000)
            (0.600000,0.000000)
            (0.700000,0.000000)
            (0.800000,0.000000)
            (0.900000,0.000000)
            (1.000000,0.000000)
            (1.100000,1.000000)
            (1.200000,1.000000)
            (1.300000,1.000000)
            (1.400000,1.000000)
            (1.500000,1.000000)
            (1.600000,1.000000)
            (1.700000,1.000000)
            (1.800000,1.000000)
            (1.900000,1.000000)
            (2.000000,2.000000)
            (2.100000,2.000000)
            (2.200000,2.000000)
            (2.300000,2.000000)
            (2.400000,2.000000)
            (2.500000,2.000000)
            (2.600000,2.000000)
            (2.700000,2.000000)
            (2.800000,2.000000)
            (2.900000,2.000000)
            (3.000000,3.000000)
            (3.100000,3.000000)
            (3.200000,3.000000)
            (3.300000,3.000000)
            (3.400000,3.000000)
            (3.500000,3.000000)
            (3.600000,3.000000)
            (3.700000,3.000000)
            (3.800000,3.000000)
            (3.900000,3.000000)
            (4.000000,4.000000)
            (4.100000,4.000000)
            (4.200000,4.000000)
            (4.300000,4.000000)
            (4.400000,4.000000)
            (4.500000,4.000000)
            (4.600000,4.000000)
            (4.700000,4.000000)
            (4.800000,4.000000)
            (4.900000,4.000000)
            (5.000000,4.000000)
        }\end{preproc}


\end{document}

